<!-- Logs -->
<div id="logs" class="pl-4 pr-4">
  <div role="tablist" class="tabs tabs-box">

    <!-- Highlight the current attempt tab -->
    {% for current_try in 1..=try_number %}
      {% if current_try == attempt %}
        <a role="tab" class="tab tab-active">Attempt: {{ current_try }}</a>
      {% else %}
        <!-- Have all other attemps link to their logs -->
        <a role="tab"
           class="tab"
           hx-get="/component/log?dag_id={{ dag_id }}&run_id={{ run_id }}&task_id={{ task_id }}&attempt={{ current_try }}"
           hx-trigger="click"
           hx-swap="outerHTML"
           hx-target="#logs">
          Attempt: {{ current_try }}
        </a>
      {% endif %}
    {% endfor %}
  </div>

  <!-- Show the logs -->
  <div class="mockup-code w-full animate-fade">
    {% for (index, line) in log.lines().enumerate() %}
      <!-- Need to keep pre and code in the same line to avoid adding empty lines in teh logs -->
      <pre data-prefix={{ index + 1 }}><code>{{ line }}</code></pre>
    {% endfor %}
  </div>
</div>
